(this.webpackJsonpredux_thunk=this.webpackJsonpredux_thunk||[]).push([[0],{10:function(e,t,a){e.exports={page:"style_page__2C9ZK",card:"style_card__2r09y",avatar:"style_avatar__1VrBe",head:"style_head__33qAU",headInfo:"style_headInfo__mBNHi",headInfoNames:"style_headInfoNames__2j_Yw",headInfoNamesItem:"style_headInfoNamesItem__3Hy1V",mainImg:"style_mainImg__3JCkS"}},13:function(e,t,a){e.exports={navbar:"style_navbar__1lIwS",menuItem:"style_menuItem__3Ayh_"}},21:function(e,t,a){e.exports={page:"style_page__zCvRh",card:"style_card__CJyQX",avatar:"style_avatar__2YkYn",menuItem:"style_menuItem__1R4km"}},39:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),s=a.n(c),u=(a(39),a(22)),o=a(33),l=a(16),i=a(12),j=a.n(i),m=a(14),b=a(15),d={baseURL:"http://domer.tech:9999/",headers:{"Content-Type":"application/json"}},p=function(){return b.get("/users/",d)},O=function(e){return b.post("/users/",JSON.stringify(e),d)},g=function(){return b.get("/tweets/",d)},f=function(e){return b.post("/tweets/",JSON.stringify(e),d)},v="SET_USERS",h="SET_TWEETS",x=function(){return function(){var e=Object(m.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p();case 3:a=e.sent,t((n=a.data,{type:v,payload:n})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}var n}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},_={users:[],tweets:[]},y=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.b,N=Object(u.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(l.a)(Object(l.a)({},e),{},{users:t.payload.data});case h:return Object(l.a)(Object(l.a)({},e),{},{tweets:t.payload.data});default:return e}}),y(Object(u.a)(o.a))),F=a(5),I=a(11),S=a(13),w=a(1);function E(){return Object(w.jsxs)("div",{className:S.navbar,children:[Object(w.jsx)(I.b,{className:S.menuItem,to:"/",children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"}),Object(w.jsx)(I.b,{className:S.menuItem,to:"/addUser",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),Object(w.jsx)(I.b,{className:S.menuItem,to:"/tweets",children:"\u0422\u0432\u0438\u0442\u044b"}),Object(w.jsx)(I.b,{className:S.menuItem,to:"/addTweet",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0422\u0432\u0438\u0442"})]})}var k=a(2),C=a(3),T=a(9);function R(){var e=Object(F.b)(),t=Object(F.c)((function(e){return e.users})),a=Object(n.useState)(""),r=Object(C.a)(a,2),c=r[0],s=r[1],u=Object(n.useState)(""),o=Object(C.a)(u,2),l=o[0],i=o[1],b=Object(n.useState)(!1),d=Object(C.a)(b,2),p=d[0],O=d[1],g=Object(n.useState)(!1),v=Object(C.a)(g,2),h=v[0],_=v[1],y=Object(n.useState)("\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"),N=Object(C.a)(y,2),I=N[0],S=N[1],E=Object(n.useState)("\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"),k=Object(C.a)(E,2),R=k[0],A=k[1],U=Object(n.useState)(null),B=Object(C.a)(U,2),L=B[0],D=B[1],J=Object(n.useState)(!1),z=Object(C.a)(J,2),M=z[0],V=z[1];Object(n.useEffect)((function(){V(!I&&!R)}),[I,R]);var X={content:"(?:[A-z\u0410-\u044f][- ]?){3}",image:"(http)s?:?(//[^\"']*.(?:png|jpg|jpeg|gif|png|svg))"};Object(n.useEffect)((function(){e(x())}),[e]);var Y=function(e){switch(e.target.name){case"content":O(!0);break;case"image":_(!0)}};return Object(w.jsx)("div",{className:T.page,children:Object(w.jsxs)("form",{className:T.pageForm,onSubmit:function(t){t.preventDefault();var a,n=new FormData(t.target),r=Object.fromEntries(n.entries());e((a={userId:Number(r.user),content:r.content,image:r.image},function(){var e=Object(m.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f(a);case 3:e.sent.data.success&&alert("\u0422\u0432\u0438\u0442 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())),s(""),i("")},children:[Object(w.jsx)("h3",{className:T.pageFormTitle,children:"Add Tweet"}),Object(w.jsx)("select",{name:"user",className:T.pageFormField,children:t.length&&t.map((function(e){return Object(w.jsx)("option",{value:e.id,children:e.name},e.id)}))}),p&&I&&Object(w.jsx)("p",{className:T.error,children:I}),Object(w.jsx)("input",{className:T.pageFormField,style:{borderColor:L&&L.content},type:"text",placeholder:"Message",name:"content",onChange:function(e){return function(e){var t=new RegExp(X[e.target.name]);s(e.target.value),t.test(e.target.value)?(S(""),D({content:"green"})):(S("\u041c\u0438\u043d\u0438\u043c\u0443\u043c 3 \u0441\u0438\u043c\u0432\u043e\u043b\u0430"),D({content:"red"}))}(e)},onBlur:function(e){return Y(e)},value:c}),h&&R&&Object(w.jsx)("p",{className:T.error,children:R}),Object(w.jsx)("input",{className:T.pageFormField,style:{borderColor:L&&L.image},type:"text",placeholder:"Image URL...",name:"image",onChange:function(e){return function(e){var t=new RegExp(X[e.target.name]);i(e.target.value),t.test(e.target.value)?(A(""),D({image:"green"})):(A("\u041d\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 URL"),D({image:"red"}))}(e)},onBlur:function(e){return Y(e)},value:l}),Object(w.jsx)("input",{className:T.pageFormField,type:"submit",value:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",disabled:!M})]})})}var A=a(8);function U(){var e=Object(F.b)(),t=Object(n.useState)(""),a=Object(C.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(""),u=Object(C.a)(s,2),o=u[0],l=u[1],i=Object(n.useState)(""),b=Object(C.a)(i,2),d=b[0],p=b[1],g=Object(n.useState)(!1),f=Object(C.a)(g,2),v=f[0],h=f[1],x=Object(n.useState)(!1),_=Object(C.a)(x,2),y=_[0],N=_[1],I=Object(n.useState)(!1),S=Object(C.a)(I,2),E=S[0],k=S[1],T=Object(n.useState)("\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"),R=Object(C.a)(T,2),U=R[0],B=R[1],L=Object(n.useState)("\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"),D=Object(C.a)(L,2),J=D[0],z=D[1],M=Object(n.useState)("\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"),V=Object(C.a)(M,2),X=V[0],Y=V[1],q=Object(n.useState)(!1),H=Object(C.a)(q,2),Q=H[0],W=H[1],K=Object(n.useState)(null),P=Object(C.a)(K,2),Z=P[0],G=P[1];Object(n.useEffect)((function(){W(!(U||J||X))}),[U,J,X]);var $={name:"(?:[A-z\u0410-\u044f][- ]?){3}",username:"(?:[A-z\u0410-\u044f][- ]?){5}",avatar:"(http)s?:?(//[^\"']*.(?:png|jpg|jpeg|gif|png|svg))"},ee=function(e){switch(e.target.name){case"name":h(!0);break;case"username":N(!0);break;case"avatar":k(!0)}};return Object(w.jsx)("div",{className:A.page,children:Object(w.jsxs)("form",{className:A.pageForm,onSubmit:function(t){t.preventDefault();var a,n=new FormData(t.target),r=Object.fromEntries(n.entries());e((a=r,function(){var e=Object(m.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O(a);case 3:e.sent.data.success&&alert("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())),c(""),l(""),p("")},children:[Object(w.jsx)("h3",{className:A.pageFormTitle,children:"Add user"}),v&&U&&Object(w.jsx)("p",{className:A.error,children:U}),Object(w.jsx)("input",{className:A.pageFormField,style:{borderColor:Z&&Z.name},type:"text",placeholder:"Name...",name:"name",onChange:function(e){return function(e){var t=new RegExp($[e.target.name]);c(e.target.value),t.test(e.target.value)?(B(""),G({name:"green"})):(B("\u041c\u0438\u043d\u0438\u043c\u0443\u043c 3 \u0441\u0438\u043c\u0432\u043e\u043b\u0430"),G({name:"red"}))}(e)},onBlur:function(e){return ee(e)},value:r}),y&&J&&Object(w.jsx)("p",{className:A.error,children:J}),Object(w.jsx)("input",{className:A.pageFormField,style:{borderColor:Z&&Z.username},type:"text",placeholder:"Username...",name:"username",onChange:function(e){return function(e){var t=new RegExp($[e.target.name]);l(e.target.value),o.length>0&&"@"!==o[0]&&l("@".concat(o)),t.test(e.target.value)?(z(""),G({username:"green"})):(z("\u041c\u0438\u043d\u0438\u043c\u0443\u043c 5 \u0441\u0438\u043c\u0432\u043e\u043b\u0430"),G({username:"red"}))}(e)},onBlur:function(e){return ee(e)},value:o}),E&&X&&Object(w.jsx)("p",{className:A.error,children:X}),Object(w.jsx)("input",{className:A.pageFormField,style:{borderColor:Z&&Z.avatar},type:"text",placeholder:"Avatar...",name:"avatar",onChange:function(e){return function(e){var t=new RegExp($[e.target.name]);p(e.target.value),t.test(e.target.value)?(Y(""),G({avatar:"green"})):(Y("\u041d\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 URL"),G({avatar:"red"}))}(e)},onBlur:function(e){return ee(e)},value:d}),Object(w.jsx)("input",{className:A.pageFormField,type:"submit",value:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",disabled:!Q})]})})}var B=a(10);function L(){var e=Object(F.b)(),t=Object(F.c)((function(e){return e.tweets})),a=Object(F.c)((function(e){return e.users})),r=function(e){return a.find((function(t){return t.id===e}))};return Object(n.useEffect)((function(){e(function(){var e=Object(m.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g();case 3:a=e.sent,t((n=a.data,{type:h,payload:n})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}var n}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),e(x())}),[e]),Object(w.jsx)("div",{className:B.page,children:t.length&&a.length&&t.map((function(e){return Object(w.jsxs)("div",{className:B.card,children:[Object(w.jsxs)("div",{className:B.head,children:[Object(w.jsx)("div",{className:B.avatar,children:Object(w.jsx)("img",{src:r(e.userId).avatar,alt:r(e.userId).name})}),Object(w.jsxs)("div",{className:B.headInfo,children:[Object(w.jsxs)("div",{className:B.headInfoNames,children:[Object(w.jsx)("div",{className:B.headInfoNamesItem,children:r(e.userId).name}),Object(w.jsx)("div",{className:B.headInfoNamesItem,children:r(e.userId).username})]}),Object(w.jsx)("div",{children:e.content})]})]}),Object(w.jsx)("div",{className:B.mainImg,style:{backgroundImage:"url(".concat(e.image,")")}})]},e.id)})).reverse()})}var D=a(21);function J(){var e=Object(F.b)(),t=Object(F.c)((function(e){return e.users}));return Object(n.useEffect)((function(){e(x())}),[e]),Object(w.jsx)("div",{className:D.page,children:t.length&&t.map((function(e){return Object(w.jsxs)("div",{className:D.card,children:[Object(w.jsx)("div",{className:D.avatar,children:Object(w.jsx)("img",{src:e.avatar,alt:e.name})}),Object(w.jsx)("div",{children:e.name}),Object(w.jsx)("div",{children:e.username})]},e.id)})).reverse()})}function z(){var e=Object(k.f)(),t=Object(k.e)();return Object(n.useEffect)((function(){"/"===t.pathname&&e("/users")}),[t,e]),Object(w.jsxs)(k.c,{children:[Object(w.jsx)(k.a,{path:"/users",element:Object(w.jsx)(J,{})}),Object(w.jsx)(k.a,{path:"/addUser",element:Object(w.jsx)(U,{})}),Object(w.jsx)(k.a,{path:"/tweets",element:Object(w.jsx)(L,{})}),Object(w.jsx)(k.a,{path:"/addTweet",element:Object(w.jsx)(R,{})})]})}var M=function(){return Object(w.jsx)(I.a,{children:Object(w.jsx)(F.a,{store:N,children:Object(w.jsxs)("div",{className:"App",children:[Object(w.jsx)(E,{}),Object(w.jsx)(z,{})]})})})};s.a.render(Object(w.jsx)(r.a.StrictMode,{children:Object(w.jsx)(M,{})}),document.getElementById("root"))},8:function(e,t,a){e.exports={page:"style_page__2WF2g",pageForm:"style_pageForm__hVSFQ",pageFormTitle:"style_pageFormTitle__3bNnc",pageFormField:"style_pageFormField__3_9Mq",error:"style_error__3Lguy"}},9:function(e,t,a){e.exports={page:"style_page__1NRpB",pageForm:"style_pageForm__2us1A",pageFormTitle:"style_pageFormTitle__1vrc8",pageFormField:"style_pageFormField__21hia",error:"style_error__3_5La"}}},[[66,1,2]]]);
//# sourceMappingURL=main.a9afc340.chunk.js.map